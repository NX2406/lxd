<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LXD ç®¡ç†é¢æ¿</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --bg-hover: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #334155;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* ç™»å½•é¡µé¢ */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-box {
            background: var(--bg-card);
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 420px;
            border: 1px solid var(--border);
        }

        .login-box h1 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 28px;
        }

        .login-box p {
            color: var(--text-secondary);
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .form-group input {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 15px;
            transition: all 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .btn {
            width: 100%;
            padding: 12px 24px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
        }

        /* ä¸»ç•Œé¢ */
        .app-container {
            display: none;
            flex-direction: column;
            height: 100vh;
        }

        .navbar {
            background: var(--bg-card);
            padding: 16px 32px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar h1 {
            font-size: 20px;
            color: var(--primary);
        }

        .navbar-right {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .btn-icon {
            padding: 8px 16px;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-icon:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .sidebar {
            width: 260px;
            background: var(--bg-card);
            border-right: 1px solid var(--border);
            padding: 20px 0;
        }

        .menu-item {
            padding: 12px 24px;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .menu-item:hover,
        .menu-item.active {
            background: var(--bg-hover);
            color: var(--text-primary);
            border-left: 3px solid var(--primary);
        }

        .content-area {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: var(--bg-card);
            padding: 24px;
            border-radius: 12px;
            border: 1px solid var(--border);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
        }

        .stat-card h3 {
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .stat-card .value {
            font-size: 32px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .card {
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border);
            padding: 24px;
            margin-bottom: 24px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-header h2 {
            font-size: 18px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 13px;
            text-transform: uppercase;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge-success {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .badge-danger {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 13px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-sm:hover {
            opacity: 0.9;
            transform: scale(1.05);
        }

        .hidden {
            display: none !important;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: var(--bg-card);
            padding: 32px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            border: 1px solid var(--border);
        }

        .modal-content h2 {
            margin-bottom: 20px;
        }

        select {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 15px;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }
    </style>
</head>

<body>
    <!-- ç™»å½•é¡µé¢ -->
    <div class="login-container" id="loginPage">
        <div class="login-box">
            <h1>ğŸš€ LXD ç®¡ç†é¢æ¿</h1>
            <p>ç®¡ç†å‘˜ç™»å½•</p>
            <form id="loginForm">
                <div class="form-group">
                    <label>ç”¨æˆ·å</label>
                    <input type="text" id="username" value="admin" required>
                </div>
                <div class="form-group">
                    <label>å¯†ç </label>
                    <input type="password" id="password" value="admin123" required>
                </div>
                <button type="submit" class="btn">ç™»å½•</button>
            </form>
        </div>
    </div>

    <!-- ä¸»åº”ç”¨ -->
    <div class="app-container" id="appContainer">
        <nav class="navbar">
            <h1>ğŸš€ LXD ç®¡ç†é¢æ¿</h1>
            <div class="navbar-right">
                <span id="adminName">ç®¡ç†å‘˜</span>
                <button class="btn-icon" onclick="logout()">é€€å‡º</button>
            </div>
        </nav>

        <div class="main-content">
            <aside class="sidebar">
                <div class="menu-item active" onclick="showPage('dashboard')">ğŸ“Š ä»ªè¡¨ç›˜</div>
                <div class="menu-item" onclick="showPage('containers')">ğŸ–¥ï¸ å®¹å™¨ç®¡ç†</div>
                <div class="menu-item" onclick="showPage('users')">ğŸ‘¥ ç”¨æˆ·ç®¡ç†</div>
                <div class="menu-item" onclick="showPage('settings')">âš™ï¸ ç³»ç»Ÿè®¾ç½®</div>
            </aside>

            <div class="content-area">
                <!-- ä»ªè¡¨ç›˜ -->
                <div class="page active" id="dashboard">
                    <h2 style="margin-bottom: 24px;">ç³»ç»Ÿæ¦‚è§ˆ</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>CPU ä½¿ç”¨ç‡</h3>
                            <div class="value" id="cpuUsage">0%</div>
                        </div>
                        <div class="stat-card">
                            <h3>å†…å­˜ä½¿ç”¨</h3>
                            <div class="value" id="memoryUsage">0%</div>
                        </div>
                        <div class="stat-card">
                            <h3>ç£ç›˜ä½¿ç”¨</h3>
                            <div class="value" id="diskUsage">0%</div>
                        </div>
                        <div class="stat-card">
                            <h3>å®¹å™¨æ€»æ•°</h3>
                            <div class="value" id="containerCount">0</div>
                        </div>
                    </div>
                </div>

                <!-- å®¹å™¨ç®¡ç† -->
                <div class="page" id="containers">
                    <div class="card">
                        <div class="card-header">
                            <h2>å®¹å™¨åˆ—è¡¨</h2>
                            <div>
                                <button class="btn-sm btn-primary" onclick="showCreateContainer()">åˆ›å»ºå®¹å™¨</button>
                                <button class="btn-sm btn-primary" onclick="refreshContainers()">åˆ·æ–°</button>
                            </div>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>åç§°</th>
                                    <th>çŠ¶æ€</th>
                                    <th>CPU</th>
                                    <th>å†…å­˜</th>
                                    <th>SSHç«¯å£</th>
                                    <th>ç³»ç»Ÿ</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody id="containerTable">
                                <tr>
                                    <td colspan="7" style="text-align: center; color: var(--text-secondary);">åŠ è½½ä¸­...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- åˆ›å»ºå®¹å™¨å¯¹è¯æ¡† -->
                <div id="createContainerDialog" class="modal hidden">
                    <div class="modal-content">
                        <h2>åˆ›å»ºå®¹å™¨</h2>
                        <form id="createContainerForm">
                            <div class="form-group">
                                <label>å®¹å™¨åç§° *</label>
                                <input type="text" id="cName" pattern="[a-zA-Z0-9-]+" required>
                            </div>
                            <div class="form-group">
                                <label>CPU æ ¸æ•° *</label>
                                <input type="number" id="cCpu" value="1" step="0.5" min="0.5" required>
                            </div>
                            <div class="form-group">
                                <label>å†…å­˜ (MB) *</label>
                                <input type="number" id="cMemory" value="512" min="256" required>
                            </div>
                            <div class="form-group">
                                <label>ç¡¬ç›˜ (GB) *</label>
                                <input type="number" id="cDisk" value="5" min="2" required>
                            </div>
                            <div class="form-group">
                                <label>SSH ç«¯å£ *</label>
                                <input type="number" id="cSshPort" value="22001" min="1024" max="65535" required>
                            </div>
                            <div class="form-group">
                                <label>æ“ä½œç³»ç»Ÿ *</label>
                                <select id="cOs" required>
                                    <option value="debian|12">Debian 12</option>
                                    <option value="debian|11">Debian 11</option>
                                    <option value="ubuntu|22.04">Ubuntu 22.04</option>
                                    <option value="ubuntu|20.04">Ubuntu 20.04</option>
                                    <option value="centos|7">CentOS 7</option>
                                    <option value="centos|9-Stream">CentOS 9 Stream</option>
                                    <option value="rockylinux|9">Rocky Linux 9</option>
                                    <option value="archlinux|current">Arch Linux</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 10px; margin-top: 20px;">
                                <button type="submit" class="btn" style="flex: 1;">åˆ›å»º</button>
                                <button type="button" class="btn" style="flex: 1; background: var(--bg-hover);"
                                    onclick="hideCreateContainer()">å–æ¶ˆ</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- ç”¨æˆ·ç®¡ç† -->
                <div class="page" id="users">
                    <div class="card">
                        <div class="card-header">
                            <h2>ç”¨æˆ·åˆ—è¡¨</h2>
                            <button class="btn-sm btn-primary" onclick="createUser()">åˆ›å»ºç”¨æˆ·</button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>ç”¨æˆ·å</th>
                                    <th>APIå¯†é’¥</th>
                                    <th>çŠ¶æ€</th>
                                    <th>åˆ›å»ºæ—¶é—´</th>
                                </tr>
                            </thead>
                            <tbody id="userTable">
                                <tr>
                                    <td colspan="5" style="text-align: center; color: var(--text-secondary);">æš‚æ— æ•°æ®</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- è®¾ç½® -->
                <div class="page" id="settings">
                    <div class="card">
                        <h2 style="margin-bottom: 20px;">ç³»ç»Ÿè®¾ç½®</h2>
                        <div class="form-group">
                            <label>Telegram Bot Token</label>
                            <input type="text" id="telegramToken" placeholder="æœªé…ç½®">
                        </div>
                        <div class="form-group">
                            <label>Telegram Admin Chat ID</label>
                            <input type="text" id="telegramChatId" placeholder="æœªé…ç½®">
                        </div>
                        <button class="btn" onclick="saveSettings()">ä¿å­˜è®¾ç½®</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let token = '';
        const API_BASE = '';

        // ç™»å½•
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            try {
                const res = await fetch('/api/admin/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, password })
                });

                if (res.ok) {
                    const data = await res.json();
                    token = data.access_token;
                    localStorage.setItem('admin_token', token);
                    showApp();
                } else {
                    alert('ç™»å½•å¤±è´¥');
                }
            } catch (err) {
                alert('ç™»å½•é”™è¯¯');
            }
        });

        function showApp() {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('appContainer').style.display = 'flex';
            loadDashboard();
            loadContainers();
            loadUsers();
        }

        function logout() {
            localStorage.removeItem('admin_token');
            location.reload();
        }

        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
            document.getElementById(page).classList.add('active');
            event.target.classList.add('active');

            if (page === 'containers') loadContainers();
            if (page === 'users') loadUsers();
        }

        async function loadDashboard() {
            try {
                const res = await fetch('/api/system/stats', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                const data = await res.json();
                document.getElementById('cpuUsage').textContent = data.cpu_percent.toFixed(1) + '%';
                document.getElementById('memoryUsage').textContent = data.memory_percent.toFixed(1) + '%';
                document.getElementById('diskUsage').textContent = data.disk_percent.toFixed(1) + '%';
                document.getElementById('containerCount').textContent = data.container_count;
            } catch (err) {
                console.error('åŠ è½½ä»ªè¡¨ç›˜å¤±è´¥', err);
            }

            // å®šæ—¶åˆ·æ–°
            setTimeout(loadDashboard, 5000);
        }

        async function loadContainers() {
            try {
                const res = await fetch('/api/admin/containers', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                const containers = await res.json();

                const tbody = document.getElementById('containerTable');
                if (containers.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="7" style="text-align:center;">æš‚æ— å®¹å™¨</td></tr>';
                    return;
                }

                tbody.innerHTML = containers.map(c => `
                    <tr>
                        <td>${c.name}</td>
                        <td><span class="badge ${c.status === 'Running' ? 'badge-success' : 'badge-danger'}">${c.status}</span></td>
                        <td>${c.cpu} æ ¸</td>
                        <td>${c.memory} MB</td>
                        <td>${c.ssh_port}</td>
                        <td>${c.os_type}/${c.os_version}</td>
                        <td class="action-buttons">
                            ${c.status === 'Running' ?
                        `<button class="btn-sm btn-danger" onclick="stopContainer(${c.id})">åœæ­¢</button>` :
                        `<button class="btn-sm btn-primary" onclick="startContainer(${c.id})">å¯åŠ¨</button>`
                    }
                            <button class="btn-sm btn-primary" onclick="restartContainer(${c.id})">é‡å¯</button>
                            <button class="btn-sm btn-primary" onclick="showRebuild(${c.id}, '${c.name}')">é‡è£…</button>
                            <button class="btn-sm btn-danger" onclick="deleteContainer(${c.id}, '${c.name}')">åˆ é™¤</button>
                        </td>
                    </tr>
                `).join('');
            } catch (err) {
                console.error('åŠ è½½å®¹å™¨å¤±è´¥', err);
            }
        }

        async function startContainer(id) {
            try {
                await fetch(`/api/containers/${id}/start`, {
                    method: 'POST',
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                loadContainers();
            } catch (err) {
                alert('å¯åŠ¨å¤±è´¥');
            }
        }

        async function stopContainer(id) {
            try {
                await fetch(`/api/containers/${id}/stop`, {
                    method: 'POST',
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                loadContainers();
            } catch (err) {
                alert('åœæ­¢å¤±è´¥');
            }
        }

        async function restartContainer(id) {
            try {
                await fetch(`/api/containers/${id}/restart`, {
                    method: 'POST',
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                alert('é‡å¯å‘½ä»¤å·²å‘é€');
                setTimeout(loadContainers, 2000);
            } catch (err) {
                alert('é‡å¯å¤±è´¥');
            }
        }

        function refreshContainers() {
            loadContainers();
        }

        function showCreateContainer() {
            document.getElementById('createContainerDialog').classList.remove('hidden');
        }

        function hideCreateContainer() {
            document.getElementById('createContainerDialog').classList.add('hidden');
            document.getElementById('createContainerForm').reset();
        }

        document.getElementById('createContainerForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const osData = document.getElementById('cOs').value.split('|');
            const data = {
                name: document.getElementById('cName').value,
                cpu: parseFloat(document.getElementById('cCpu').value),
                memory: parseInt(document.getElementById('cMemory').value),
                disk: parseInt(document.getElementById('cDisk').value),
                ssh_port: parseInt(document.getElementById('cSshPort').value),
                os_type: osData[0],
                os_version: osData[1]
            };

            try {
                const res = await fetch('/api/admin/containers', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (res.ok) {
                    const result = await res.json();
                    alert(`å®¹å™¨åˆ›å»ºæˆåŠŸï¼\n\nåç§°: ${result.name}\nIP: ${result.container_ip}\nSSHç«¯å£: ${result.ssh_port}\nRootå¯†ç : ${result.root_password}\n\nè¯·å¦¥å–„ä¿å­˜å¯†ç ï¼`);
                    hideCreateContainer();
                    loadContainers();
                } else {
                    const error = await res.json();
                    alert('åˆ›å»ºå¤±è´¥: ' + error.detail);
                }
            } catch (err) {
                alert('åˆ›å»ºå¤±è´¥: ' + err.message);
            }
        });

        function showRebuild(id, name) {
            const os = prompt(`é‡è£…å®¹å™¨ ${name}\n\nè¯·é€‰æ‹©ç³»ç»Ÿ:\n1. Debian 12\n2. Ubuntu 22.04\n3. CentOS 7\n4. CentOS 9\n\nè¾“å…¥æ•°å­—:`, '1');
            if (!os) return;

            let osType, osVersion;
            switch (os) {
                case '2': osType = 'ubuntu'; osVersion = '22.04'; break;
                case '3': osType = 'centos'; osVersion = '7'; break;
                case '4': osType = 'centos'; osVersion = '9-Stream'; break;
                default: osType = 'debian'; osVersion = '12';
            }

            if (!confirm(`ç¡®è®¤é‡è£… ${name} ä¸º ${osType}/${osVersion}?\næ•°æ®å°†ä¸¢å¤±ï¼`)) return;

            fetch(`/api/containers/${id}/rebuild?os_type=${osType}&os_version=${osVersion}`, {
                method: 'POST',
                headers: { 'Authorization': `Bearer ${token}` }
            })
                .then(res => res.json())
                .then(data => {
                    alert(`é‡è£…æˆåŠŸï¼\næ–°å¯†ç : ${data.new_password}\nè¯·å¦¥å–„ä¿å­˜ï¼`);
                    loadContainers();
                })
                .catch(() => alert('é‡è£…å¤±è´¥'));
        }

        function deleteContainer(id, name) {
            if (!confirm(`ç¡®è®¤åˆ é™¤å®¹å™¨ ${name}?\næ­¤æ“ä½œä¸å¯æ¢å¤ï¼`)) return;

            fetch(`/api/containers/${id}`, {
                method: 'DELETE',
                headers: { 'Authorization': `Bearer ${token}` }
            })
                .then(() => {
                    alert('åˆ é™¤æˆåŠŸ');
                    loadContainers();
                })
                .catch(() => alert('åˆ é™¤å¤±è´¥'));
        }

        async function loadUsers() {
            try {
                const res = await fetch('/api/admin/users', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                const users = await res.json();

                const tbody = document.getElementById('userTable');
                if (users.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="5" style="text-align:center;">æš‚æ— ç”¨æˆ·</td></tr>';
                    return;
                }

                tbody.innerHTML = users.map(u => `
                    <tr>
                        <td>${u.id}</td>
                        <td>${u.username}</td>
                        <td><code>******</code></td>
                        <td><span class="badge ${u.is_active ? 'badge-success' : 'badge-danger'}">${u.is_active ? 'æ¿€æ´»' : 'ç¦ç”¨'}</span></td>
                        <td>${new Date(u.created_at).toLocaleString()}</td>
                    </tr>
                `).join('');
            } catch (err) {
                console.error('åŠ è½½ç”¨æˆ·å¤±è´¥', err);
            }
        }

        function createUser() {
            const username = prompt('è¾“å…¥ç”¨æˆ·å:');
            if (!username) return;

            fetch('/api/admin/users', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${token}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ username })
            })
                .then(res => res.json())
                .then(data => {
                    alert(`ç”¨æˆ·åˆ›å»ºæˆåŠŸ!\nAPI Key: ${data.api_key}\nè¯·å¦¥å–„ä¿å­˜ï¼Œä»…æ˜¾ç¤ºä¸€æ¬¡!`);
                    loadUsers();
                })
                .catch(() => alert('åˆ›å»ºå¤±è´¥'));
        }

        function saveSettings() {
            alert('è®¾ç½®ä¿å­˜åŠŸèƒ½å¼€å‘ä¸­...');
        }

        // æ£€æŸ¥ç™»å½•çŠ¶æ€
        const savedToken = localStorage.getItem('admin_token');
        if (savedToken) {
            token = savedToken;
            showApp();
        }
    </script>
</body>

</html>